{% extends "AppLouvreBundle::layout.html.twig" %}

{% block content %}
 
	<h1><strong>Etape 2:</strong> Vos billets </h1>

	{# Notifications #}

	{% for flashMessage in app.session.flashbag.get('errors') %}
	  <div class="alert alert-danger">
		  {{ flashMessage }}
	  </div>
	{% endfor %}
	<hr>
  	
  	{#Formulaires#}
  	
	<div class="well col-md-6" id="ticketsForm">
		{% set i= 0 %}
		{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
			
			{#Génération d'un formulaire par billet#}
			
			{% for ticket in form.tickets %}
			{% set i = i + 1 %}
			<div class="well">
				<label>Billet n°{{ i }} </label>

				{#Nom#}
				
				<div class="form-group">
					{# Génération du label. #}
					{{ form_label(ticket.name, "Nom", {'label_attr': {'class': 'col-md-4 control-label'}}) }}

					{# Affichage des erreurs pour ce champ précis. #}
					{{ form_errors(ticket.name) }}

					<div class="col-md-6">
					  {# Génération de l'input. #}
					  {{ form_widget(ticket.name, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>
				
				{# Prenom #}
				
				<div class="form-group">
					{# Génération du label. #}
					{{ form_label(ticket.firstName, "Prénom", {'label_attr': {'class': 'col-md-4 control-label'}}) }}

					{# Affichage des erreurs pour ce champ précis. #}
					{{ form_errors(ticket.firstName) }}

					<div class="col-md-6">
					  {# Génération de l'input. #}
					  {{ form_widget(ticket.firstName, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>
				
				{# Pays #}
				
				<div class="form-group">
					{# Génération du label. #}
					{{ form_label(ticket.pays, "Nationalité", {'label_attr': {'class': 'col-md-4 control-label'}}) }}

					{# Affichage des erreurs pour ce champ précis. #}
					{{ form_errors(ticket.pays) }}

					<div class="col-md-6">
					  {# Génération de l'input. #}
					  {{ form_widget(ticket.pays, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>
				
				{# Date de naissance #}
				
				<div class="form-group">
					{# Génération du label. #}
					{{ form_label(ticket.birthDate, "Date de naissance", {'label_attr': {'class': 'col-md-4 control-label'}}) }}

					{# Affichage des erreurs pour ce champ précis. #}
					{{ form_errors(ticket.birthDate) }}

					<div class="col-md-6  ">
					  {# Génération de l'input. #}
					  {{ form_widget(ticket.birthDate, {'attr': {'class': ''}}) }}
					</div>
				</div>
				
				{# Tarif réduit #}
				
				<div class="form-group">
					{# Génération du label. #}
					{{ form_label(ticket.lowRate, "Tarif réduit ", {'label_attr': {'class': 'col-md-4 control-label'}}) }}

					{# Affichage des erreurs pour ce champ précis. #}
					{{ form_errors(ticket.lowRate) }}

					<div class="col-md-6">
					  {# Génération de l'input. #}
					  {{ form_widget(ticket.lowRate, {'attr': {'class': 'checkbox'}}) }}
					</div>
				</div>
			</div>
			{% endfor %}
			
			{# Boutons de navigations #}
			
			<div>
				<div style="text-align:right">
					<a href="{{path('app_louvre_homePage')}}"><input type="button" class="btn btn-danger" value="Annuler" /></a>
					<a href="javascript:history.go(-1)"><input type="button" class="btn btn-secondary" value="< Etape 1" /></a>
					<input type="submit" class="btn btn-info" value="Etape 3 >" />
				</div>
			</div>
		{{ form_end(form) }}
	</div>
	
	{# Tarifs #}
	
	<div class="row col-md-4" id="infosTarifs">
		<div class="panel panel-default">
			<div class="panel-heading">
			  <h3 class="panel-title">Tarifs :</h3>
			</div>
			<ul class="list-group">
				<li class="list-group-item">Enfant - 4 ans   : Gratuit</li>
				<li class="list-group-item">Enfant - 12 ans    : 8 euros</li>
				<li class="list-group-item">Sénior + 60 ans : 12 euros</li>
				<li class="list-group-item">Tarif réduit    : 10 euros</li>
				<li class="list-group-item">Tarif normal : 16 euros</li>
			</ul>
		</div>
	</div>

{% endblock %}